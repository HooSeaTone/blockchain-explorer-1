{"version":3,"file":"4.7c2327ff2f379da14f30.hot-update.js","sources":["webpack:///pages/index.js"],"sourcesContent":["import React, {Component} from 'react';\nimport web3 from '../scripts/web3';\nimport BlockCard from '../components/BlockCard';\nimport Layout from '../components/Layout';\nimport {Table, Button} from 'semantic-ui-react';\n\n\nclass ExplorerIndex extends Component {\n    state = {\n        blockNumber:0,\n        initialNumber:0,\n        blocksFound:0,\n        found:false\n    }\n    constructor(props) {\n        super(props);\n        this.tick();\n    }\n    tick = async () => {\n        let number = await web3.eth.getBlockNumber();\n        if(number > this.state.blockNumber) {\n            if(number != this.state.blockNumber) {\n                if(this.state.initialNumber == 0){\n                    this.setState({blockNumber:number, initialNumber:number});\n                } else {\n                    this.setState({blockNumber:number});\n                }\n                let difference = this.state.blockNumber - this.state.initialNumber;\n                this.setState({blocksFound:difference});\n                if (this.state.blocksFound > 0) {\n                    this.setState({found:true});\n                }\n            }\n\n        }\n    }\n    componentDidMount() {\n        this.interval = setInterval(() => this.tick(), 5000);\n    }\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n    render() {\n        const {Header,Row,HeaderCell,Body} = Table;\n        if(this.state.blockNumber == 0) {\n            return(<div />);\n        } else {\n            return(\n                <Layout>\n                    <div>\n                        <Link route={`/`}>\n                            <Button fluid disabled={!this.state.found}>\n                                {this.state.blocksFound} blocks found since your last refresh\n                            </Button>\n                        </Link>\n                        <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css\"></link>\n                        <Table>\n                            <Header>\n                                <Row>\n                                    <HeaderCell>Time</HeaderCell>\n                                    <HeaderCell>Block #</HeaderCell>\n                                    <HeaderCell>Block hash</HeaderCell>\n                                    <HeaderCell>Tx count</HeaderCell>\n                                    <HeaderCell>Miner</HeaderCell>\n                                </Row>\n                            </Header>\n                            <Body>\n                                <BlockCard currentBlock={this.state.initialNumber}/>\n                                <BlockCard currentBlock={this.state.initialNumber-1}/>\n                                <BlockCard currentBlock={this.state.initialNumber-2}/>\n                                <BlockCard currentBlock={this.state.initialNumber-3}/>\n                                <BlockCard currentBlock={this.state.initialNumber-4}/>\n                                <BlockCard currentBlock={this.state.initialNumber-5}/>\n                                <BlockCard currentBlock={this.state.initialNumber-6}/>\n                                <BlockCard currentBlock={this.state.initialNumber-7}/>\n                                <BlockCard currentBlock={this.state.initialNumber-8}/>\n                                <BlockCard currentBlock={this.state.initialNumber-9}/>\n                            </Body>\n                        </Table>\n                    </div>\n                </Layout>\n            );\n        }\n    }\n}\n\nexport default ExplorerIndex;\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AAOA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AALA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAGA;AACA;;;AAkBA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;AACA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;;;;;;;;;;;AA5EA;AACA;AA8EA;AAAA;;;;;;;;;;;;AA/EA;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}
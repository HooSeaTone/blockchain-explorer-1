{"version":3,"file":"6.c34f5fbb338e2c0b8259.hot-update.js","sources":["webpack:///pages/transaction.js"],"sourcesContent":["import React, {Component} from 'react';\nimport web3 from '../scripts/web3';\nimport Layout from '../components/Layout';\nimport {Table, Button, Input, Container, Form, Message} from 'semantic-ui-react';\nimport {Link, Router} from '../routes';\n\n\nclass Transaction extends Component {\n    state = {\n        hash:'',\n        block:'',\n        size:0,\n        transactions:[],\n        to:'',\n        from:'',\n        search:'',\n        errorMessage:'',\n        value:0\n    }\n    static async getInitialProps(props) {\n        const {transaction} = props.query;\n        return {transaction};\n    }\n    async componentDidMount() {\n        while(true) {\n            const blockinfo = await web3.eth.getTransaction(this.props.transaction);\n            const hash = blockinfo.hash;\n            const block = blockinfo.blockNumber;\n            const value = blockinfo.value;\n            const to = blockinfo.to;\n            const from = blockinfo.from;\n            if(typeof txcount != 'integer') {\n                this.setState({block:block, hash:hash, value:value, to:to, from:from});\n                break;\n            } else {\n                this.setState({block:block, hash:hash, value:value, to:to, from:from});\n                continue;\n            }\n        }\n    }\n    onSubmit = async (event) => {\n        event.preventDefault();\n\n        if(this.state.search.length == 66) {\n            try {\n                await web3.eth.getTransaction(this.state.search);\n                Router.pushRoute(`/transaction/${this.state.search}`, {txhash:this.state.search}, {txhash:this.state.search});\n            } catch (err) {\n                const message = err.message;\n                this.setState({errorMessage:message})\n            }\n        } else if(this.state.search.length == 42) {\n            try {\n                await web3.eth.getBalance();\n                Router.pushRoute(`/address/${this.state.search}`, {address:this.state.search}, {address:this.state.search});\n            } catch (err) {\n                const message = err.message;\n                this.setState({errorMessage:message})\n            }\n        } else {\n            try {\n                const block = parseInt(this.state.search);\n                await web3.eth.getBlock(block);\n                Router.pushRoute(`/blocknumber/${this.state.search}`, {bnumber:this.state.search}, {bnumber:this.state.search});\n            } catch (err) {\n                const message = err.message;\n                this.setState({errorMessage:message})\n            }\n        }\n    }\n    render() {\n            return(\n                <Layout>\n                    <div>\n                        <Container>\n                            <Form onSubmit={this.onSubmit} error={!!this.state.errorMessage}>\n                                <Form.Field>\n                                    <Input fluid icon=\"search\" placeholder=\"Enter address, tx hash or block number...\" \n                                        value={this.state.search}\n                                        onChange={event=>this.setState({search:event.target.value})}\n                                    />\n                                </Form.Field>\n                                <Message error header=\"Oops!\" content={this.state.errorMessage} />\n                            </Form>\n                        </Container>\n                        <div>\n                            <p>Transaction hash: {this.props.transaction}</p>\n                            <p>Block number: {this.state.block}</p>\n                            <p>Transaction value: {web3.utils.fromWei(this.state.value, 'ether')}</p>\n                            <p>Sender: {this.state.from}</p>\n                            <p>Recipient: {this.state.to}</p>\n                        </div>\n                    </div>\n                </Layout>\n            );\n        }\n    }\n\nexport default Transaction;\n\n\n// WEBPACK FOOTER //\n// pages/transaction.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;AAgCA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAMA;AAAA;AAAA;AAAA;AAAA;AANA;AAAA;AACA;AADA;AAAA;AAAA;AAQA;AACA;AAAA;AAAA;AAAA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAcA;AAAA;AAAA;AAAA;AAAA;AAdA;AAAA;AACA;AADA;AAAA;AAAA;AAgBA;AACA;AAAA;AAAA;AAAA;AACA;AAlBA;AAAA;AAAA;AACA;AADA;AAAA;AAqBA;AArBA;AAAA;AACA;AADA;AAuBA;AAAA;AAAA;AAAA;AAAA;AAvBA;AAAA;AACA;AADA;AAAA;AAAA;AAyBA;AACA;AAAA;AAAA;AAAA;AACA;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;AAjBA;;;;;;AACA;AACA;;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;AAmCA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;;;;;;;;;;AA5EA;;;;;;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AAfA;AACA;AA0FA;AAAA;;;;;;;;;;;;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}